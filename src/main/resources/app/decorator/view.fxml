<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.canvas.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.paint.*?>

<SplitPane dividerPositions="0.35" prefHeight="800.0" prefWidth="1200.0"
           xmlns="http://javafx.com/javafx/17.0.2-ea"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="app.decorator.Controller">

    <!-- Левая панель инструментов -->
    <items>
        <VBox spacing="12.0" alignment="TOP_CENTER"
              style="-fx-background-color: #f5f5f5; -fx-padding: 15; -fx-border-color: #cccccc; -fx-border-width: 0 1 0 0;">
            <children>
                <!-- Список фигур -->
                <ListView fx:id="listView" prefHeight="150.0" prefWidth="300.0"/>

                <!-- Цвета -->
                <HBox spacing="8" alignment="CENTER">
                    <Label text="Заливка:"/>
                    <ColorPicker fx:id="colorPicker"/>
                </HBox>
                <HBox spacing="8" alignment="CENTER">
                    <Label text="Контур:"/>
                    <ColorPicker fx:id="colorPickerStroke"/>
                </HBox>
                <HBox fx:id="boxGradient" spacing="8" alignment="CENTER" visible="false">
                    <Label text="Второй цвет:"/>
                    <ColorPicker fx:id="colorPicker1"/>
                </HBox>

                <!-- Кнопки действий -->
                <HBox spacing="10" alignment="CENTER">
                    <Button text="Отменить" onAction="#undoLast"/>
                    <Button text="Очистить" onAction="#onClickClear"/>
                </HBox>

                <!-- Настройки -->
                <TextField fx:id="fieldSize" promptText="Размер"/>
                <ChoiceBox fx:id="choiceFill" prefWidth="180"/>
                <ChoiceBox fx:id="choiceEffect" prefWidth="180"/>

                <!-- Последняя фигура -->
                <Label fx:id="textLast" text="Ничего не нарисовано" style="-fx-text-fill: #555;"/>

                <!-- Тумблеры -->
                <HBox spacing="10" alignment="CENTER">
                    <ToggleButton fx:id="toggleSplit" text="Разделить"/>
                    <ToggleButton fx:id="toggleStipple" text="Прерывистый"/>
                </HBox>

                <!-- Режим работы -->
                <HBox spacing="10" alignment="CENTER">
                    <ChoiceBox fx:id="choiceWorkMode" prefWidth="150"/>
                    <Button text="Удалить выделенное" onAction="#deleteSelectedShape"/>
                </HBox>
            </children>
        </VBox>

        <!-- Правая рабочая область -->
        <AnchorPane style="-fx-background-color: white;">
            <children>
                <Canvas fx:id="canvas" width="800.0" height="700.0"
                        onMouseDragged="#drawShape" onMousePressed="#drawShape"
                        style="-fx-border-color: #cccccc; -fx-border-width: 1;"/>
                <Pane fx:id="pane"/>
            </children>
        </AnchorPane>
    </items>
</SplitPane>
